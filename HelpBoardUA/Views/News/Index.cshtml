@model NewsViewModel
@{
    ViewData["Title"] = "news";
}

<head>
    <link href="~/css/newsStyle.css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" integrity="sha384-..." crossorigin="anonymous">
</head>

<div class="wrapper">
    <h1 class="regText">Останні новини</h1>
    @foreach (var news in Model.NewsList)
    {
        string imageSrc1 = "";
        if (news.NewsBannerImage != null)
        {
            var imageBase64 = Convert.ToBase64String(news.NewsBannerImage);
            imageSrc1 = string.Format("data:image;base64,{0}", imageBase64);
        }
        string imageSrc2 = "";
        if (news.NewsImage != null)
        {
            var imageBase64 = Convert.ToBase64String(news.NewsImage);
            imageSrc2 = string.Format("data:image;base64,{0}", imageBase64);
        }

    <div class="newsBlock">
            <div class="upper-img"><img src="@imageSrc1" onerror="this.src='/img/Банер новини 2.png'"/></div>
        <div class="under-img-line">
                <div class="under-img"><img src="@imageSrc2" onerror="this.src='/img/step_it_eng_short 1.png'" style="width:180px;height:180px" /></div>
            <div class="near-img-line">
                <div class="text-line">
                    <h3>@news.Title</h3>
                        <p>@news.PublicationDate.ToString("dd.MM.yyyy")</p>
                    <div class="geo_location">
                        <i class="bi bi-geo-alt"></i>
                            <p>@news.Location</p>
                    </div>
                </div>
                <p class="description">@news.SubTitle</p>
                <form action="~/News/ArticlePage/@news.Id" method="post">
                    <button>Дізнатися більше</button>
                </form>
            </div>
        </div>
    </div>
    }
</div>

