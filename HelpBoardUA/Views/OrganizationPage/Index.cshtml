@model OrganizationProfileViewModel
@{
	ViewData["Title"] = "Organization Page";
}

<head>
	<link href="~/css/orgPageStyles.css" rel="stylesheet" />
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Raleway&display=swap">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" integrity="sha384-..." crossorigin="anonymous">
</head>
<script>
	function changeText(ev) {
    if(ev.getAttribute('data-show') === "true") {
        ev.innerText = "Підписатись";
        ev.setAttribute('data-show', "false");
		ev.style.background = "#BADAFF";
    }
    else {
        ev.innerText = "Підписка оформлена";
        ev.setAttribute('data-show', "true"); 
		ev.style.background = "#FDFF95";
    }
}
</script>
<div class="wrapper">
	<div class="banner">
			<div class="avatar-content">
					<img src="~/img/Avatar.png" />
					<h3>@Model.Organization.Name</h3>
					<button onclick="changeText(this)" data-show="true">Підписатись</button>
			</div>
	</div>
	<div class="page-content">
		<h3>Новини організації</h3>
		<div class="news-content">
			@foreach(var news in Model.NewsList)
			{
				<div class="news-block">
					<div class="img-part">
						<img src="~/img/step_it_eng_short 1.png" />
					</div>
					<div class="info-part">
						<h5>
							@news.Title
						</h5>
						<form action="~/News/ArticlePage/@news.Id" method="post">
							<button>Дізнатися більше</button>
						</form>
					</div>
				</div>
			}

		</div>
		<hr>

		<div class="offers-content">
			@foreach (var offer in Model.OfferList)
			{
				<div class="offer-block">
					<div class="img-block">
						<img src="~/img/orgProfileOffer.jpg" />
					</div>
					<div class="info-block">
						<h3>@offer.Title</h3>
						<p>@offer.Subtitle</p>
						<form asp-action="HumanitarianPage" asp-controller="Humanitarian" method="get">
							<button type="submit" name="offerId" value="@offer.Id">Дізнатися більше</button>
						</form>
					</div>
				</div>
			}
			
		</div>
	</div>
</div>
